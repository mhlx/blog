<!DOCTYPE html>
<html>

<head th:replace="console/base/head :: head('模板管理','')"></head>

<body id="page-top">

	<nav th:replace="console/base/nav"></nav>
	<div th:replace="console/base/mobile_nav"></div>

	<div id="wrapper">

		<!--sidebar-->
		<ul th:replace="console/base/sidebar :: active('template')"></ul>

		<div id="content-wrapper">

			<div class="container-fluid">
				<div class="row" style="margin-bottom: 10px">
					<div class="col-md-8 offset-md-2">
						<div class="alert alert-danger" th:unless="${error == null}"
							th:text="${messages.getMessage(error)}"></div>
					</div>
				</div>
				<div class="row" style="margin-bottom: 10px">
				<div class="col-md-8 offset-md-2">
					<div class="btn-group" role="group" aria-label="...">
						<button class="btn btn-primary" id="clearMgrCache">清除页面缓存</button>
						<button class="btn btn-primary" id="clearPreview">清除预览页面</button>
					</div>
				</div></div>
				<div class="row" style="margin-bottom: 10px">
					<div class="col-md-8 offset-md-2">
						<form role="form" th:action="@{/console/template/export}"
							method="post">
							<div class="form-group">
								<label>空间</label> <select class="form-control" name="spaceId">
									<option value="">默认</option>
									<option th:each="space : ${spaces}" th:value="${space.id}"
										th:text="${space.name}"></option>
								</select>
							</div>
							<input type="hidden" th:name="${_csrf.parameterName}"
								th:value="${_csrf.token}" />
							<button type="submit" class="btn btn-primary">导出模板</button>
						</form>
					</div>
				</div>

				<div class="row" style="margin-bottom: 10px">
					<div class="col-md-8 offset-md-2">
						<form id="fileupload" autocomplete="off" method="POST"
							enctype="multipart/form-data">
							<div class="form-group">
								<label>空间</label> <select class="form-control"
									id="importSpaceId">
									<option value="">默认</option>
									<option th:each="space : ${spaces}" th:value="${space.id}"
										th:text="${space.name}"></option>
								</select>
							</div>
							<div class="form-group">
								<label>文件</label> <input type="file" class="form-control"
									id="file" />
							</div>
							<button type="button" id="import-btn" class="btn btn-primary">导入模板</button>
							<button type="button" id="preview-btn" class="btn btn-primary">预览模板</button>
						</form>
					</div>
				</div>

				<div class="row" id="messages">
					<div class="col-md-8 offset-md-2">
						<div class="table-responsive">
							<table class="table">
								<tbody id="messageBody">

								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<!-- /.container-fluid -->

			<!-- Sticky Footer -->

			<div th:replace="console/base/footer"></div>

		</div>
		<!-- /.content-wrapper -->

	</div>
	<!-- /#wrapper -->

	<!-- Scroll to Top Button-->
	<a class="scroll-to-top rounded" href="#page-top"> <i
		class="fas fa-angle-up"></i>
	</a>

	<!-- Bootstrap core JavaScript-->

	<div th:replace="console/base/foot"></div>
	<script th:src="@{/static/console/js/template.js}"></script>
</body>

</html>
